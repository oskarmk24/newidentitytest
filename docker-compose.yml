services:
  newidentitytest:
    build:
      context: .
      dockerfile: newidentitytest/Dockerfile
    image: newidentitytest:dev
    ports:
      - "5000:8080"     # host:container
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ConnectionStrings__DefaultConnection: Server=mariadbcontainer;Port=3306;Database=obstacledb;User Id=root;Password=test123;AllowUserVariables=True;UseAffectedRows=False;
    depends_on: []       # no DB in this compose file; DB is external
    networks:
      - appnet

networks:
  appnet:
    external: true
    name: appnet
